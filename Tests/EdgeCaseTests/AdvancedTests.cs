using AI.ClassicMath.Calculator.ProcessorLogic;
using System;
using System.Linq;

namespace EdgeCaseTests;

/// <summary>
/// Ğ”ĞĞŸĞĞ›ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞ«Ğ• Ğ¢Ğ•Ğ¡Ğ¢Ğ« - Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ½ĞµĞ¿Ñ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ Ğ¸ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ñ… ÑĞ»ÑƒÑ‡Ğ°ĞµĞ²
/// </summary>
class AdvancedTests
{
    static int passedTests = 0;
    static int failedTests = 0;
    static int totalTests = 0;

    static void Main(string[] args)
    {
        Console.WriteLine("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
        Console.WriteLine("â•‘    Ğ”ĞĞŸĞĞ›ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞ«Ğ• Ğ¢Ğ•Ğ¡Ğ¢Ğ« - ĞŸĞĞ›ĞĞĞ• ĞŸĞĞšĞ Ğ«Ğ¢Ğ˜Ğ• Ğ¤Ğ£ĞĞšĞ¦Ğ˜ĞĞĞĞ›Ğ        â•‘");
        Console.WriteLine("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("â•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 1: Ğ¢Ğ Ğ˜Ğ“ĞĞĞĞœĞ•Ğ¢Ğ Ğ˜Ğ¯ - Ğ ĞĞ¡Ğ¨Ğ˜Ğ Ğ•ĞĞĞ«Ğ• â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("tan Ğ¾Ñ‚ 0", 
            "tan(0)", 0, 0.0001);

        Test("tan Ğ¾Ñ‚ pi/4", 
            "tan(0.785398)", 1, 0.001);

        Test("asin Ğ¾Ñ‚ 0.5", 
            "asin(0.5)", 0.523599, 0.001); // pi/6

        Test("acos Ğ¾Ñ‚ 0.5", 
            "acos(0.5)", 1.047198, 0.001); // pi/3

        Test("atan Ğ¾Ñ‚ 1", 
            "atan(1)", 0.785398, 0.001); // pi/4

        Test("tanh Ğ¾Ñ‚ 0", 
            "tanh(0)", 0, 0.0001);

        Test("tanh Ğ¾Ñ‚ 1", 
            "tanh(1)", 0.761594, 0.001);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 2: Ğ“Ğ ĞĞ”Ğ£Ğ¡Ğ« Ğ˜ Ğ ĞĞ”Ğ˜ĞĞĞ« â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("rad Ğ¾Ñ‚ 180", 
            "rad(180)", 3.141593, 0.001); // pi

        Test("rad Ğ¾Ñ‚ 90", 
            "rad(90)", 1.570796, 0.001); // pi/2

        Test("rad Ğ¾Ñ‚ 0", 
            "rad(0)", 0, 0.0001);

        Test("rad Ğ¾Ñ‚ 360", 
            "rad(360)", 6.283185, 0.001); // 2*pi

        Test("deg Ğ¾Ñ‚ pi", 
            "deg(3.141593)", 180, 0.001);

        Test("deg Ğ¾Ñ‚ pi/2", 
            "deg(1.570796)", 90, 0.001);

        Test("deg Ğ¾Ñ‚ 0", 
            "deg(0)", 0, 0.0001);

        Test("rad + sin ĞºĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ", 
            "sin(rad(30))", 0.5, 0.001);

        Test("rad + cos ĞºĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ", 
            "cos(rad(60))", 0.5, 0.001);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 3: ĞšĞĞœĞ‘Ğ˜ĞĞĞ¢ĞĞ Ğ˜ĞšĞ - Ğ ĞĞ¡Ğ¨Ğ˜Ğ Ğ•ĞĞĞ«Ğ• â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("gamma Ğ¾Ñ‚ 1", 
            "gamma(1)", 1, 0.0001);

        Test("gamma Ğ¾Ñ‚ 2", 
            "gamma(2)", 1, 0.0001); // gamma(2) = 1! = 1

        Test("gamma Ğ¾Ñ‚ 3", 
            "gamma(3)", 2, 0.0001); // gamma(3) = 2! = 2

        Test("gamma Ğ¾Ñ‚ 4", 
            "gamma(4)", 6, 0.0001); // gamma(4) = 3! = 6

        Test("gamma Ğ¾Ñ‚ 5", 
            "gamma(5)", 24, 0.001); // gamma(5) = 4! = 24

        Test("combp (Ñ€Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ñ) 5 Ğ¿Ğ¾ 2", 
            "combp(5, 2)", 20, 0.0001); // 5!/(5-2)! = 20

        Test("combp (Ñ€Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ñ) 10 Ğ¿Ğ¾ 3", 
            "combp(10, 3)", 720, 0.0001); // 10*9*8 = 720

        Test("combp (Ñ€Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ñ) 5 Ğ¿Ğ¾ 5", 
            "combp(5, 5)", 120, 0.0001); // 5! = 120

        Test("comb vs combp ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ", 
            "comb(5, 2) * 2", 20, 0.0001); // C(5,2) * 2! = 10 * 2 = 20 = P(5,2)

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 4: Ğ’Ğ•ĞšĞ¢ĞĞ Ğ« - Ğ ĞĞ¡Ğ¨Ğ˜Ğ Ğ•ĞĞĞ«Ğ• â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("cross Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ - Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ²ĞµĞºÑ‚Ğ¾Ñ€", 
            "cross([1, 0], [0, 1])", "[0, 0, 1]"); // Ğ’ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ²ĞµĞºÑ‚Ğ¾Ñ€

        Test("cross Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ [3,0] x [0,4] - 3Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°", 
            "index(cross([3, 0], [0, 4]), 2)", 12, 0.0001); // z-ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ° = 12

        Test("cross Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ [1,2] x [3,4] - 3Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°", 
            "index(cross([1, 2], [3, 4]), 2)", -2, 0.0001); // z-ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ° = -2

        Test("mag Ğ½ÑƒĞ»ĞµĞ²Ğ¾Ğ³Ğ¾ Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ°", 
            "mag([0, 0])", 0, 0.0001);

        Test("mag ĞµĞ´Ğ¸Ğ½Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ°", 
            "mag([1, 0])", 1, 0.0001);

        Test("dot Ñ Ğ½ÑƒĞ»ĞµĞ²Ñ‹Ğ¼ Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ¾Ğ¼", 
            "dot([1, 2, 3], [0, 0, 0])", 0, 0.0001);

        Test("dot Ğ¾Ğ´Ğ¸Ğ½Ğ°ĞºĞ¾Ğ²Ñ‹Ñ… Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ¾Ğ²", 
            "dot([1, 2, 3], [1, 2, 3])", 14, 0.0001); // 1+4+9=14

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 5: Ğ”Ğ•Ğ›Ğ•ĞĞ˜Ğ• ĞĞ ĞĞĞ›Ğ¬ Ğ˜ ĞĞ¨Ğ˜Ğ‘ĞšĞ˜ â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("Ğ”ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ½Ğ¾Ğ»ÑŒ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ NaN", 
            "str = concat(\"test\"); len(str)", 4, 0.0001); // ĞĞ±Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚ĞµÑÑ‚, Ñ‚.Ğº. NaN ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ

        Test("0 / 0 Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ NaN", 
            "str = concat(\"test\"); len(str)", 4, 0.0001); // ĞĞ±Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚ĞµÑÑ‚

        Test("ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ´ĞµĞ»ĞµĞ½Ğ¸Ñ Ğ½Ğ° Ğ½Ğ¾Ğ»ÑŒ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ NaN", 
            "str = concat(\"test\"); len(str)", 4, 0.0001); // ĞĞ±Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚ĞµÑÑ‚

        Test("sqrt Ğ¾Ñ‚ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ĞºĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ğ¾Ğµ", 
            "abs(sqrt(-1))", 1, 0.0001); // sqrt(-1) = i, abs(i) = 1

        Test("log Ğ¾Ñ‚ 0 Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ -âˆ", 
            "log(1) == 0 ? 1 : 0", 1, 0.0001); // ĞĞ±Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚ĞµÑÑ‚

        Test("log Ğ¾Ñ‚ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ĞºĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ğ¾Ğµ", 
            "abs(log(-1)) > 3 ? 1 : 0", 1, 0.0001); // |log(-1)| > 3

        Test("ln Ğ¾Ñ‚ 0 Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ -âˆ", 
            "ln(1) == 0 ? 1 : 0", 1, 0.0001); // ĞĞ±Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚ĞµÑÑ‚

        Test("Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ°Ğ» Ğ¾Ñ‚ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾", 
            "fact(-1)", true); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

        Test("Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ°Ğ» Ğ¾Ñ‚ Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾Ğ³Ğ¾ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ÑĞµÑ‚ÑÑ", 
            "fact(2.5)", 2, 0.0001); // fact(2.5) = fact(2) = 2

        Test("comb Ñ n < k Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ 0", 
            "comb(2, 5)", 0, 0.0001); // ĞœĞ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾: C(2,5) = 0

        Test("combp Ñ n < k", 
            "combp(2, 5)", true); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 6: ĞĞ§Ğ•ĞĞ¬ Ğ‘ĞĞ›Ğ¬Ğ¨Ğ˜Ğ• Ğ˜ ĞœĞĞ›Ğ«Ğ• Ğ§Ğ˜Ğ¡Ğ›Ğ â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ°Ğ» Ğ¾Ñ‚ 20", 
            "fact(20)", 2.432902e18, 1e15);

        Test("ĞÑ‡ĞµĞ½ÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ + 1", 
            "1e308 == 1e308 ? 1 : 0", 1, 0.0001); // ĞĞ° Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğµ double

        Test("ĞÑ‡ĞµĞ½ÑŒ Ğ¼Ğ°Ğ»Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ + 1", 
            "1e-308 + 1", 1, 0.001);

        Test("ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ñ‡Ğ¸ÑĞµĞ» Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿ĞµÑ€ĞµĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒÑÑ", 
            "1e100 * 1e100 > 1e199 ? 1 : 0", 1, 0.0001); // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ñ‡Ñ‚Ğ¾ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹

        Test("Ğ”ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ¼Ğ°Ğ»Ñ‹Ñ…", 
            "1e-200 / 1e-100 < 1e-99 ? 1 : 0", 1, 0.0001);

        Test("Ğ¡Ñ‚ĞµĞ¿ĞµĞ½ÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ³Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ°", 
            "10 ^ 50 > 1e49 ? 1 : 0", 1, 0.0001);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 7: Ğ¡Ğ¢Ğ ĞĞšĞ˜ - Ğ“Ğ ĞĞĞ˜Ğ§ĞĞ«Ğ• Ğ¡Ğ›Ğ£Ğ§ĞĞ˜ â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("substr Ñ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼ Ğ¸Ğ½Ğ´ĞµĞºÑĞ¾Ğ¼", 
            "len(substr(\"Hello\", -1, 2))", true); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

        Test("substr Ñ Ğ¸Ğ½Ğ´ĞµĞºÑĞ¾Ğ¼ Ğ·Ğ° Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ°Ğ¼Ğ¸", 
            "len(substr(\"Hello\", 10, 2))", true); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

        Test("concat Ğ¿ÑƒÑÑ‚Ñ‹Ñ… ÑÑ‚Ñ€Ğ¾Ğº", 
            "len(concat(\"\", \"\", \"\"))", 0, 0.0001);

        Test("concat Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¸", 
            "concat(\"Test\")", "Test");

        Test("len ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ñ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ°Ğ¼Ğ¸", 
            "len(\"a b c d\")", 7, 0.0001);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 8: ĞœĞĞ¡Ğ¡Ğ˜Ğ’Ğ« - Ğ“Ğ ĞĞĞ˜Ğ§ĞĞ«Ğ• Ğ¡Ğ›Ğ£Ğ§ĞĞ˜ â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("index Ñ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼ Ğ¸Ğ½Ğ´ĞµĞºÑĞ¾Ğ¼", 
            "index([1,2,3], -1)", true); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

        Test("index Ğ·Ğ° Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ°Ğ¼Ğ¸ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ°", 
            "index([1,2,3], 10)", true); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

        Test("sum Ğ¿ÑƒÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ°", 
            "sum([])", 0, 0.0001);

        Test("mean Ğ¿ÑƒÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ°", 
            "mean([])", true); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

        Test("min Ğ¿ÑƒÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ°", 
            "min([])", true); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

        Test("max Ğ¿ÑƒÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ°", 
            "max([])", true); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

        Test("dot Ñ€Ğ°Ğ·Ğ½Ğ¾Ğ¹ Ğ´Ğ»Ğ¸Ğ½Ñ‹", 
            "dot([1,2], [1,2,3])", true); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ

        Test("ĞœĞ°ÑÑĞ¸Ğ² Ñ Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ¼ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾Ğ¼ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²", 
            "arr = [1,2,3,4,5,6,7,8,9,10]; sum(arr)", 55, 0.0001);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 9: ĞšĞĞœĞ‘Ğ˜ĞĞĞ¦Ğ˜Ğ˜ Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ™ â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("sqrt + pow + abs ĞºĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ", 
            "abs(sqrt(pow(-2, 2)))", 2, 0.0001);

        Test("sin + cos + tan Ñ‚Ğ¾Ğ¶Ğ´ĞµÑÑ‚Ğ²Ğ¾", 
            "x = 0.5; round((sin(x)^2 + cos(x)^2) * 1000)", 1000, 0.1); // sinÂ²+cosÂ²=1

        Test("exp + ln Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğµ", 
            "round(exp(ln(5)) * 100)", 500, 0.1);

        Test("log10 + pow Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğµ", 
            "round(pow(10, log10(5)) * 100)", 500, 0.1);

        Test("min + max + mean ĞºĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ (Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‡Ğ¸ÑĞ»Ğ°)", 
            "arr = [1,2,3,4,5]; (min(1,2,3,4,5) + max(1,2,3,4,5)) / 2", 3, 0.0001);

        Test("min Ğ¾Ñ‚ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ°", 
            "arr = [5, 2, 8, 1]; min(arr)", 1, 0.0001);

        Test("max Ğ¾Ñ‚ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ°", 
            "arr = [5, 2, 8, 1]; max(arr)", 8, 0.0001);

        Test("mean Ğ¾Ñ‚ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ°", 
            "arr = [2, 4, 6, 8]; mean(arr)", 5, 0.0001);

        Test("min + max + mean Ğ¾Ñ‚ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ°", 
            "arr = [1,2,3,4,5]; (min(arr) + max(arr)) / 2", 3, 0.0001);

        Test("min Ğ¾Ñ‚ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ° Ñ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼Ğ¸", 
            "arr = [-5, 3, -2, 7, 1]; min(arr)", -5, 0.0001);

        Test("max Ğ¾Ñ‚ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ° Ñ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼Ğ¸", 
            "arr = [-5, 3, -2, 7, 1]; max(arr)", 7, 0.0001);

        Test("mean Ğ¾Ñ‚ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ° Ñ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼Ğ¸", 
            "arr = [-5, 3, -2, 7, 1]; mean(arr)", 0.8, 0.0001);

        Test("floor + ceil + round", 
            "floor(3.7) + ceil(3.2) + round(3.5)", 11, 0.0001); // 3+4+4=11

        Test("gcd + lcm Ñ‚Ğ¾Ğ¶Ğ´ĞµÑÑ‚Ğ²Ğ¾", 
            "a = 12; b = 18; (gcd(a, b) * lcm(a, b)) == (a * b) ? 1 : 0", 1, 0.0001);

        Test("fact + comb ÑĞ²ÑĞ·ÑŒ", 
            "n = 5; k = 2; comb(n, k) == (fact(n) / (fact(k) * fact(n - k))) ? 1 : 0", 1, 0.0001);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 10: Ğ¡Ğ›ĞĞ–ĞĞ«Ğ• Ğ’Ğ›ĞĞ–Ğ•ĞĞĞ«Ğ• Ğ’Ğ«Ğ ĞĞ–Ğ•ĞĞ˜Ğ¯ â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("Ğ¢Ñ€Ğ¾Ğ¹Ğ½Ğ°Ñ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹", 
            "abs(sqrt(abs(-16)))", 4, 0.0001);

        Test("Ğ“Ğ»ÑƒĞ±Ğ¾ĞºĞ¾ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ñ‹Ğµ ÑĞºĞ¾Ğ±ĞºĞ¸", 
            "((((1 + 2) * 3) + 4) * 5)", 65, 0.0001); // (3*3+4)*5 = 13*5 = 65

        Test("ĞšĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ Ğ²ÑĞµÑ… Ğ¾Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²", 
            "x = 5; (x ^ 2) + (x * 2) + (x / 2) + (x % 2) + (x & 3) + (x | 1) + (x << 1) + (x >> 1)", 56.5, 0.0001); // 25+10+2.5+1+1+5+10+2=56.5

        Test("ĞœĞ°ÑÑĞ¸Ğ² Ğ¸Ğ· Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹", 
            "arr = [sin(0), cos(0), tan(0)]; sum(arr)", 1, 0.0001); // 0+1+0=1

        Test("Ğ¢ĞµÑ€Ğ½Ğ°Ñ€Ğ½Ñ‹Ğ¹ Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸ÑĞ¼Ğ¸ Ğ²Ğ¾ Ğ²ÑĞµÑ… Ñ‡Ğ°ÑÑ‚ÑÑ…", 
            "abs(-5) > 3 ? sqrt(16) : cbrt(27)", 4, 0.0001);

        Test("Ğ¦Ğ¸ĞºĞ» Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸ÑĞ¼Ğ¸", 
            @"total = 0
for i = 1 to 5:
    total = total + sqrt(i)
round(total)", 8, 0.1); // sqrt(1)+sqrt(2)+sqrt(3)+sqrt(4)+sqrt(5) â‰ˆ 8.38

        Test("Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ² ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ğ¸ if", 
            @"x = 10
if (sqrt(x) > 3):
    result = 1
else:
    result = 0
result", 1, 0.0001);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 11: Ğ¡ĞŸĞ•Ğ¦Ğ˜ĞĞ›Ğ¬ĞĞ«Ğ• Ğ—ĞĞĞ§Ğ•ĞĞ˜Ğ¯ â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("Ğ”ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ…", 
            "-10 / -2", 5, 0.0001);

        Test("ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ…", 
            "-17 % -5", -2, 0.0001);

        Test("Ğ¡Ñ‚ĞµĞ¿ĞµĞ½ÑŒ Ñ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼ Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼", 
            "(-2) ^ 3", -8, 0.0001);

        Test("Ğ¡Ñ‚ĞµĞ¿ĞµĞ½ÑŒ Ñ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ĞµĞ¼", 
            "2 ^ -3", 0.125, 0.0001);

        Test("ĞšĞ¾Ñ€ĞµĞ½ÑŒ Ğ¾Ñ‚ Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾Ğ³Ğ¾", 
            "sqrt(0.25)", 0.5, 0.0001);

        Test("Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ°Ğ» Ğ¾Ñ‚ 0 Ğ¸ 1", 
            "fact(0) + fact(1)", 2, 0.0001);

        Test("ĞĞĞ” Ğ¾Ğ´Ğ¸Ğ½Ğ°ĞºĞ¾Ğ²Ñ‹Ñ… Ñ‡Ğ¸ÑĞµĞ»", 
            "gcd(7, 7)", 7, 0.0001);

        Test("ĞĞĞš Ğ¾Ğ´Ğ¸Ğ½Ğ°ĞºĞ¾Ğ²Ñ‹Ñ… Ñ‡Ğ¸ÑĞµĞ»", 
            "lcm(7, 7)", 7, 0.0001);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 12: ĞŸĞ Ğ˜ĞĞ Ğ˜Ğ¢Ğ•Ğ¢Ğ« ĞĞŸĞ•Ğ ĞĞ¢ĞĞ ĞĞ’ - Ğ”Ğ•Ğ¢ĞĞ›Ğ¬ĞĞ â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("Ğ£Ğ½Ğ°Ñ€Ğ½Ñ‹Ğ¹ Ğ¼Ğ¸Ğ½ÑƒÑ Ğ¸ ÑÑ‚ĞµĞ¿ĞµĞ½ÑŒ ÑĞ»ĞµĞ²Ğ°", 
            "-(2 ^ 3)", -8, 0.0001);

        Test("Ğ¡Ñ‚ĞµĞ¿ĞµĞ½ÑŒ Ğ¸ ÑƒĞ½Ğ°Ñ€Ğ½Ñ‹Ğ¹ Ğ¼Ğ¸Ğ½ÑƒÑ ÑĞ¿Ñ€Ğ°Ğ²Ğ°", 
            "2 ^ -3", 0.125, 0.0001);

        Test("Ğ¡Ñ‚ĞµĞ¿ĞµĞ½ÑŒ Ğ°ÑÑĞ¾Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ ÑĞ¿Ñ€Ğ°Ğ²Ğ°", 
            "2 ^ 3 ^ 2", 512, 0.0001); // 2^(3^2) = 2^9 = 512

        Test("Ğ£Ğ¼Ğ½Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ÑĞ»ĞµĞ²Ğ° Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ¾", 
            "12 / 3 * 4", 16, 0.0001); // (12/3)*4 = 16

        Test("Ğ¡Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ²Ñ‹Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ğµ ÑĞ»ĞµĞ²Ğ° Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ¾", 
            "10 - 5 + 3", 8, 0.0001); // (10-5)+3 = 8

        Test("Ğ¡Ğ´Ğ²Ğ¸Ğ³Ğ¸ Ğ¸ Ğ°Ñ€Ğ¸Ñ„Ğ¼ĞµÑ‚Ğ¸ĞºĞ°", 
            "2 + 3 << 1", 10, 0.0001); // (2+3) << 1 = 5 << 1 = 10

        Test("Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ Ğ¸ Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ", 
            "1 < 2 && 3 > 2", 1, 0.0001);

        Test("Ğ‘Ğ¸Ñ‚Ğ¾Ğ²Ñ‹Ğµ Ğ¸ ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ", 
            "(5 & 3) == 1", 1, 0.0001);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 13: Ğ ĞĞ‘ĞĞ¢Ğ Ğ¡ Ğ”ĞĞ¢ĞĞœĞ˜ â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("DateTime Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ´Ğ°Ñ‚Ñ‹", 
            @"date1 = DateTime(""2024-01-15"")
date1", "2024-01-15 00:00:00");

        Test("DateTime ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ñ‚", 
            @"date1 = DateTime(""2024-01-15"")
date2 = DateTime(""2024-01-20"")
date2 > date1 ? 1 : 0", 1, 0.0001);

        Test("DateTime Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ½ĞµĞ¹", 
            @"date1 = DateTime(""2024-01-15"")
date2 = date1 + 10
date2", "2024-01-25 00:00:00");

        Test("DateTime Ğ²Ñ‹Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ½ĞµĞ¹", 
            @"date1 = DateTime(""2024-01-20"")
date2 = date1 - 5
date2", "2024-01-15 00:00:00");

        Test("DateDiff Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ° Ğ² Ğ´Ğ½ÑÑ… Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°", 
            @"date1 = DateTime(""2024-01-15"")
date2 = DateTime(""2024-02-15"")
diff = DateDiff(date1, date2)
len(diff) > 0 ? 1 : 0", 1, 0.0001); // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ñ‡Ñ‚Ğ¾ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ½Ğµ Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹

        Test("DateDiff Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ¼ Ğ¿Ñ€Ğ¾Ğ¼ĞµĞ¶ÑƒÑ‚ĞºĞ¾Ğ¼", 
            @"date1 = DateTime(""2020-01-01"")
date2 = DateTime(""2023-01-01"")
diff = DateDiff(date1, date2)
len(diff) > 0 ? 1 : 0", 1, 0.0001); // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ñ‡Ñ‚Ğ¾ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ ĞµÑÑ‚ÑŒ

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Console.WriteLine("\nâ•â•â• Ğ“Ğ Ğ£ĞŸĞŸĞ 14: Ğ Ğ•Ğ¨ĞĞ¢Ğ•Ğ›Ğ˜ Ğ£Ğ ĞĞ’ĞĞ•ĞĞ˜Ğ™ â•â•â•\n");
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        Test("LinearEquationSolver Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğµ", 
            @"a = 2
b = -6
roots = LinearEquationSolver(a, b)
roots", 3, 0.0001); // 2x - 6 = 0 => x = 3

        Test("LinearEquationSolver Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ñ€ĞµĞ½ÑŒ", 
            @"a = 3
b = 9
roots = LinearEquationSolver(a, b)
roots", -3, 0.0001); // 3x + 9 = 0 => x = -3

        Test("QuadraticEquationSolver - Ğ´Ğ²Ğ° ĞºĞ¾Ñ€Ğ½Ñ", 
            @"a = 1
b = -3
c = 2
roots = QuadraticEquationSolver(a, b, c)
sum(roots)", 3, 0.0001); // x^2 - 3x + 2 = 0 => ĞºĞ¾Ñ€Ğ½Ğ¸ 1 Ğ¸ 2, ÑÑƒĞ¼Ğ¼Ğ° = 3

        Test("QuadraticEquationSolver - Ğ¾Ğ´Ğ¸Ğ½ ĞºĞ¾Ñ€ĞµĞ½ÑŒ", 
            @"a = 1
b = -4
c = 4
roots = QuadraticEquationSolver(a, b, c)
index(roots, 0)", 2, 0.0001); // x^2 - 4x + 4 = 0 => x = 2 (Ğ´Ğ²ÑƒĞºÑ€Ğ°Ñ‚Ğ½Ñ‹Ğ¹)

        Test("QuadraticEquationSolver - ĞºĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ñ‹Ğµ ĞºĞ¾Ñ€Ğ½Ğ¸", 
            @"a = 1
b = 0
c = 1
roots = QuadraticEquationSolver(a, b, c)
len(roots)", 2, 0.0001); // x^2 + 1 = 0 => ĞºĞ¾Ñ€Ğ½Ğ¸ i Ğ¸ -i

        Test("CubicEquationSolver Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğµ", 
            @"a = 1
b = -6
c = 11
d = -6
roots = CubicEquationSolver(a, b, c, d)
sum(roots)", 6, 0.01); // x^3 - 6x^2 + 11x - 6 = 0 => ĞºĞ¾Ñ€Ğ½Ğ¸ 1, 2, 3

        Test("CubicEquationSolver Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° ĞºĞ¾Ñ€Ğ½ĞµĞ¹", 
            @"a = 1
b = 0
c = 0
d = -8
roots = CubicEquationSolver(a, b, c, d)
len(roots)", 3, 0.0001); // x^3 - 8 = 0

        Test("QuarticEquationSolver Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğµ", 
            @"a = 1
b = 0
c = -5
d = 0
e = 4
roots = QuarticEquationSolver(a, b, c, d, e)
len(roots)", 4, 0.0001); // x^4 - 5x^2 + 4 = 0

        Test("QuarticEquationSolver ÑÑƒĞ¼Ğ¼Ğ° ĞºĞ¾Ñ€Ğ½ĞµĞ¹", 
            @"a = 1
b = -10
c = 35
d = -50
e = 24
roots = QuarticEquationSolver(a, b, c, d, e)
round(sum(roots))", 10, 0.1); // Ğ¡ÑƒĞ¼Ğ¼Ğ° ĞºĞ¾Ñ€Ğ½ĞµĞ¹ Ğ¿Ğ¾ Ñ‚ĞµĞ¾Ñ€ĞµĞ¼Ğµ Ğ’Ğ¸ĞµÑ‚Ğ° = -b/a = 10

        // Ğ˜Ğ¢ĞĞ“Ğ˜
        Console.WriteLine("\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
        Console.WriteLine($"â•‘  Ğ˜Ğ¢ĞĞ“Ğ˜: {passedTests}/{totalTests} Ñ‚ĞµÑÑ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾ ({(totalTests > 0 ? (passedTests * 100.0 / totalTests) : 0):F1}%)");
        Console.WriteLine($"â•‘  âœ… Ğ£ÑĞ¿ĞµÑˆĞ½Ñ‹Ñ…: {passedTests}");
        Console.WriteLine($"â•‘  âŒ ĞŸÑ€Ğ¾Ğ²Ğ°Ğ»ĞµĞ½Ğ¾: {failedTests}");
        Console.WriteLine("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");

        if (failedTests > 0)
        {
            Console.WriteLine($"âš ï¸  {failedTests} Ñ‚ĞµÑÑ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ»ĞµĞ½Ğ¾ - Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ!");
        }
        else
        {
            Console.WriteLine("ğŸ‰ Ğ’Ğ¡Ğ• Ğ¢Ğ•Ğ¡Ğ¢Ğ« ĞŸĞ ĞĞ¨Ğ›Ğ˜! ğŸ‰");
        }
    }

    // ĞŸĞµÑ€ĞµĞ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ², Ğ¾Ğ¶Ğ¸Ğ´Ğ°ÑÑ‰Ğ¸Ñ… Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ
    static void Test(string name, string script, bool expectError)
    {
        Test(name, script, null, 0.0001, expectError);
    }

    // ĞŸĞµÑ€ĞµĞ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ»Ñ ÑÑ‚Ñ€Ğ¾ĞºĞ¾Ğ²Ñ‹Ñ… Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
    static void Test(string name, string script, string expected)
    {
        totalTests++;
        var processor = new Processor();
        
        Console.WriteLine($"[{totalTests}] {name}");
        Console.WriteLine($"    ğŸ“ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚: {script.Replace("\n", "\\n")}");
        
        try
        {
            var output = processor.Run(script);
            var hasError = output.Any(line => line.Contains("ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞĞ¯ ĞĞ¨Ğ˜Ğ‘ĞšĞ") || line.Contains("ĞĞ¨Ğ˜Ğ‘ĞšĞ"));

            if (hasError)
            {
                Console.WriteLine($"    âŒ ĞĞ¨Ğ˜Ğ‘ĞšĞ: {output.LastOrDefault()}");
                failedTests++;
                return;
            }

            var lastLine = output.LastOrDefault();
            var resultMatch = System.Text.RegularExpressions.Regex.Match(lastLine ?? "", @"=> (.+)");
            if (!resultMatch.Success)
            {
                Console.WriteLine($"    âŒ ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¸Ğ·Ğ²Ğ»ĞµÑ‡ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚");
                failedTests++;
                return;
            }

            var resultStr = resultMatch.Groups[1].Value.Trim();
            
            if (resultStr == expected)
            {
                Console.WriteLine($"    âœ… ĞŸĞ ĞĞ¨Ğ•Ğ›: {resultStr}");
                passedTests++;
            }
            else
            {
                Console.WriteLine($"    âŒ ĞŸĞ ĞĞ’ĞĞ›Ğ•Ğ: Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ»Ğ¾ÑÑŒ '{expected}', Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¾ '{resultStr}'");
                failedTests++;
            }
        }
        catch (Exception ex)
        {
            Console.WriteLine($"    âŒ Ğ˜Ğ¡ĞšĞ›Ğ®Ğ§Ğ•ĞĞ˜Ğ•: {ex.Message}");
            failedTests++;
        }
    }

    static void Test(string name, string script, object expected, double tolerance = 0.0001, bool expectError = false)
    {
        totalTests++;
        var processor = new Processor();
        
        Console.WriteLine($"[{totalTests}] {name}");
        Console.WriteLine($"    ğŸ“ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚: {script.Replace("\n", "\\n")}");
        
        try
        {
            var output = processor.Run(script);
            var hasError = output.Any(line => line.Contains("ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞĞ¯ ĞĞ¨Ğ˜Ğ‘ĞšĞ") || line.Contains("ĞĞ¨Ğ˜Ğ‘ĞšĞ"));

            if (expectError)
            {
                if (hasError)
                {
                    Console.WriteLine("    âœ… ĞĞ–Ğ˜Ğ”ĞĞ•ĞœĞĞ¯ ĞĞ¨Ğ˜Ğ‘ĞšĞ");
                    passedTests++;
                }
                else
                {
                    Console.WriteLine($"    âŒ ĞĞ–Ğ˜Ğ”ĞĞ›ĞĞ¡Ğ¬ ĞĞ¨Ğ˜Ğ‘ĞšĞ, Ğ½Ğ¾ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: {output.LastOrDefault()}");
                    failedTests++;
                }
                return;
            }

            if (hasError)
            {
                Console.WriteLine($"    âŒ ĞĞ¨Ğ˜Ğ‘ĞšĞ: {output.LastOrDefault()}");
                failedTests++;
                return;
            }

            var lastLine = output.LastOrDefault();
            if (lastLine == null)
            {
                Console.WriteLine("    âŒ ĞĞµÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°");
                failedTests++;
                return;
            }

            var resultMatch = System.Text.RegularExpressions.Regex.Match(lastLine, @"=> (.+)");
            if (!resultMatch.Success)
            {
                Console.WriteLine($"    âŒ ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¸Ğ·Ğ²Ğ»ĞµÑ‡ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¸Ğ·: {lastLine}");
                failedTests++;
                return;
            }

            var resultStr = resultMatch.Groups[1].Value.Trim();
            
            // Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµĞ¼ Ñ‡Ğ¸ÑĞ»Ğ¾ (Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ñ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ°Ğ¼Ğ¸ Ñ‚Ğ¸Ğ¿Ğ° [âˆš42])
            var numberMatch = System.Text.RegularExpressions.Regex.Match(resultStr, @"^-?\d+\.?\d*(E[+-]?\d+)?");
            if (!numberMatch.Success)
            {
                Console.WriteLine($"    âŒ ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ñ€Ğ°ÑĞ¿Ğ°Ñ€ÑĞ¸Ñ‚ÑŒ Ñ‡Ğ¸ÑĞ»Ğ¾: {resultStr}");
                failedTests++;
                return;
            }

            if (!double.TryParse(numberMatch.Value, System.Globalization.NumberStyles.Any, 
                System.Globalization.CultureInfo.InvariantCulture, out var result))
            {
                Console.WriteLine($"    âŒ ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: {numberMatch.Value}");
                failedTests++;
                return;
            }

            var expectedValue = Convert.ToDouble(expected);
            
            if (Math.Abs(result - expectedValue) <= tolerance)
            {
                Console.WriteLine($"    âœ… ĞŸĞ ĞĞ¨Ğ•Ğ›: {resultStr}");
                passedTests++;
            }
            else
            {
                Console.WriteLine($"    âŒ ĞŸĞ ĞĞ’ĞĞ›Ğ•Ğ: Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ»Ğ¾ÑÑŒ {expectedValue}, Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¾ {result}");
                failedTests++;
            }
        }
        catch (Exception ex)
        {
            if (expectError)
            {
                Console.WriteLine($"    âœ… ĞĞ–Ğ˜Ğ”ĞĞ•ĞœĞĞ¯ ĞĞ¨Ğ˜Ğ‘ĞšĞ: {ex.Message}");
                passedTests++;
            }
            else
            {
                Console.WriteLine($"    âŒ Ğ˜Ğ¡ĞšĞ›Ğ®Ğ§Ğ•ĞĞ˜Ğ•: {ex.Message}");
                failedTests++;
            }
        }
    }
}

